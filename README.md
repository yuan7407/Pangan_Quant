# 盘感 Quant - A Project from Trading Instinct

"盘感"（Pangan Quant）聚焦于两个我在真实账户中长期使用与持续迭代的量化交易策略：
1. 面向 ETF 的低风险、可控回撤策略（示例标的：QQQ 等）。基于 TD 序列（神奇九转）与市场趋势过滤，结合均线、MACD、RSI、量能等多维指标进行信号共振与风控管理，目标是在有限回撤下提升胜率与资金效率。
2. 面向热门成长股的高风险高收益策略（示例标的：NVDA/TSLA/PLTR 等）。在明确的趋势框架内，捕捉高波动阶段的爆发机会，侧重交易执行纪律与仓位分层，辅以实时风控与推送通知。

两类策略均支持通过 server 酱推送至微信，便于在盘中与收盘后进行“可操作”的事件驱动式决策。

## 策略方法论概览
- 趋势与结构：
  - 以中短期趋势判定作为一级过滤（如均线多空关系、价格相对位置、波动簇特征）。
  - 融合 TD 序列（神奇九转）识别阶段性超买/超卖与可能的反转窗口。
- 指标共振：
  - 均线（MA/EMA/SMA）用于趋势确认与动态支撑/压力识别。
  - MACD 用于动量确认与背离甄别；RSI 用于节奏与强弱校准。
  - 成交量/量价关系用于筛选“有效突破/跌破”和“虚假波动”。
- 风险与仓位：
  - 明确的止损/止盈与时间止损；不对倒不摊薄，强调纪律优先。
  - 分层建仓/减仓（半自动），在波动放大阶段控制资金暴露。
- 交易执行与推送：
  - 通过日志与消息推送（server 酱）输出可执行决策：建仓/加仓/减仓/清仓/观望。
  - 心跳信息包含行情快照与当日/累计收益，用于快速复盘。

## 目录结构
- `250710_Quant4ETFVer020.py`：ETF 低风险策略当前主脚本。
- `250809_Quant4RiskVer005.py`：热门股高风险策略当前主脚本。
- `legacy/`：历史版本归档，便于回溯对比与研究。
- `src/utils/`：通用辅助工具（如 `log_compressor.py`）。
- `logs/`：运行与回测日志、关键快照（含每日概览截图）。
- `docs/`：项目文档与使用说明。

## 快速开始
1. 安装依赖
   - 推荐：Python 3.10（最低 3.8+）
   - 安装：`pip install -r requirements.txt`
2. 配置可选环境变量（用于消息推送）
   - `SCKEY` 或 `SERVERCHAN_KEY`：server 酱 Key，用于微信通知。
3. 运行策略脚本（示例）
   - ETF 策略：`python 250710_Quant4ETFVer020.py`
   - 高风险策略：`python 250809_Quant4RiskVer005.py`

## 使用示例与输出
- 实时运行：
  - 控制台输出精简心跳：价格、当日收益、总收益、最近信号等。
  - 触发重要事件（如突破/止损/调仓）时推送到微信，信息包含必要上下文。
- 回测与复盘：
  - 日志写入 `logs/`，包含原始事件、指标概览、执行记录。
  - 关键日概览图保存至 `logs/daily_summary_screenshots/`。

## 配置与依赖
- 主要依赖：见 `requirements.txt`（含 `pandas`、`yfinance`、`pandas-market-calendars`、`matplotlib/plotly + kaleido` 等）。
- 数据与交易所日历：使用 `yfinance` 与 `pandas-market-calendars` 做交易日对齐。
- 可选代理/加速：若在某些网络环境下数据拉取较慢，建议配置系统代理或镜像。

## 注意事项与声明
- 本项目仅用于学术研究与个人技术交流，不构成任何投资建议。
- 历史回测与示例收益不代表未来表现，实盘存在滑点、手续费与流动性等影响。
- 使用者应对自身账户一切盈亏负责，请在理解风险的前提下谨慎使用。

## 贡献
- 欢迎提交 PR / Issue：
  - 代码规范、性能优化、指标/信号研究、风险模型与回测框架改进都非常欢迎。
  - 如涉及较大重构，请先创建 Issue 讨论设计与边界条件。

---

如需与我交流具体标的或策略细节，欢迎通过 Issue 反馈你的关注点与场景需求。
